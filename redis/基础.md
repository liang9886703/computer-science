[TOC]

# redis概述

## 简介
是一种内存数据结构存储，用作数据库、缓存、消息代理、流引擎

redis作为msql的缓存，因为其有高性能和高并发

**特点**

- 定期将数据转到磁盘持久化，也可以关闭这个功能
- 支持多种数据结构并对其运行原子操作：
- 基于内存的数据库，读写操作在内存中完成，读写速度很快
- 支持事务 、持久化、Lua 脚本、多种集群方案（主从复制模式、哨兵模式、切片机群模式）、发布/订阅模式，内存淘汰机制、过期删除机制等等

**redis和etcd**

redis有更好的查询性能，支持更多的数据结果
etcd更为可靠安全，故障转移和持续数据可用，数据均持久化

**redis和memcached**

共同点：
两者都是基于内存的数据库，作为缓存使用，有极高的性能
都有过期策略

区别：
- redis支持更多数据类型，memcached是kv数据类型
- redis有持久化功能，memcached没有
- redis支持集群模式，memcached没有原生的集群模式
- redis支持发布订阅模型、lua脚本、事务等功能，memcached不支持

**支持的数据类型和应用场景**：

-  String(字符串)：缓存对象、分布式锁、共享session信息
- Hash(哈希)：缓存对象、例如：购物车
-  List (列表)：消息队列
- Set(集合)：聚合（交并差）计算，例如：共同关注
- Zset(有序集合)：排序场景
- Bitmaps（位图）：二值状态的统计，例如：签到、判断登录状态
- HyperLogLog（基数统计）：例如：网页UV计数（独立访客统计）
- GEO（地理信息）：储存地理位置信息的场景
- Stream（流）：消息队列

HyperLogLog比起set占用更小空间，仅实现基数统计，对于2^64个不同元素的基数只需用12KB的内存，结果的误差在一定范围内

stream比起list，自动生成全局唯一消息ID，支持以消费组形式消费数据

例如：数据集{1，3，5，7，5，7，8}的基数集为{1，3，5，7，8}，基数为5









主从复制模式、哨兵模式、切片机群模式
